### Autogenerated by dns_forwarding.py ###

# XXX: pdns recursor doesn't like whitespace near entry separators,
# especially in the semicolon-separated lists of name servers.
# Please be careful if you edit the template.

# Non-configurable defaults
daemon=yes
threads=1
allow-from={{ allow_from | join(',') }}
log-common-errors=yes
non-local-bind=yes
query-local-address={{ source_address | join(',') }}
lua-config-file=recursor.conf.lua

# cache-size
max-cache-entries={{ cache_size }}

# negative TTL for NXDOMAIN
max-negative-ttl={{ negative_ttl }}

# ignore-hosts-file
export-etc-hosts={{ 'no' if ignore_hosts_file is defined else 'yes' }}

# listen-address
local-address={{ listen_address | join(',') }}

{% if port is defined and port is not none %}
# listen-port
local-port={{ port }}
{% endif %}

# dnssec
dnssec={{ dnssec }}

{% if dns64_prefix is defined %}
# dns64-prefix
dns64-prefix={{ dns64_prefix }}
{% endif %}

{# dns: T3277: #}
{% if no_serve_rfc1918 is defined %}
# serve-rfc1918
serve-rfc1918=no
{% else %}
# serve-rfc1918
serve-rfc1918=yes
{% endif %}

forward-zones-file=recursor.forward-zones.conf

